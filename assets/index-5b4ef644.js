(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function c(e,t){e.style.display=t?"block":"none"}function d(){const e=document.querySelector(".login");c(e,!0);const t=e.querySelector("#logout"),n=()=>{localStorage.removeItem("user"),c(e,!1),m()};t.addEventListener("click",n)}function m(){const e=document.querySelector(".logout");c(e,!0);const t=e.querySelector("form"),n=r=>{r.preventDefault();const s={username:new FormData(t).get("username")};localStorage.setItem("user",JSON.stringify(s)),c(e,!1),d()};t.addEventListener("submit",n)}function h(e){const t=()=>{const n=new Date;e.innerText=n.toLocaleTimeString()};t(),setInterval(t,1e3)}function y(e){const t=new Object;return new FormData(e).forEach((r,o)=>{Object.assign(t,{[o]:r})}),t}function f(){const e=localStorage.getItem("user");return e?JSON.parse(e):void 0}function a(){const e=localStorage.getItem("todo-list");if(!e)return;const t=f();return t?(JSON.parse(e)??[]).filter(o=>o.user.username===t.username):void 0}function u(){const e=document.querySelector("#todo-list ul"),t=a();t&&(e.innerHTML=t.map(n=>`
      <li>
        <h3>${n.title}</h3>
        <p class="read-the-docs">${n.content}</p>
        <button type="button" data-id="${n.id}">Remove</button>
      </li>
    `).join(""),e.querySelectorAll("button").forEach(n=>{n.addEventListener("click",()=>{const r=n.dataset.id;r&&L({id:Number(r)})})}))}function b(e){const t=a()??[],n=f();n&&(t.push({...e,id:t.length+1,user:n}),localStorage.setItem("todo-list",JSON.stringify(t)))}function S(){const e=document.querySelector("#todo-form form");function t(n){n.preventDefault();const r=y(e);b(r),u()}e.addEventListener("submit",t)}function L({id:e}){const t=a();if(!t)return;const n=e-1;t.splice(n,1),localStorage.setItem("todo-list",JSON.stringify(t)),u()}function j(){S(),u()}const g=["https://cdn.pixabay.com/photo/2016/11/23/13/48/beach-1852945_1280.jpg","https://cdn.pixabay.com/photo/2018/01/12/10/19/fantasy-3077928_1280.jpg","https://cdn.pixabay.com/photo/2018/08/14/13/23/ocean-3605547_1280.jpg","https://cdn.pixabay.com/photo/2018/08/23/07/35/thunderstorm-3625405_1280.jpg","https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_1280.jpg","https://cdn.pixabay.com/photo/2015/04/23/21/59/hot-air-balloon-736879_1280.jpg","https://cdn.pixabay.com/photo/2017/09/12/11/56/universe-2742113_1280.jpg","https://cdn.pixabay.com/photo/2016/11/06/05/36/lake-1802337_1280.jpg","https://cdn.pixabay.com/photo/2014/01/17/19/01/tree-247122_1280.jpg","https://cdn.pixabay.com/photo/2015/07/05/10/18/tree-832079_1280.jpg","https://cdn.pixabay.com/photo/2016/09/19/07/01/lake-1679708_1280.jpg","https://cdn.pixabay.com/photo/2017/03/29/11/29/nepal-2184940_1280.jpg","https://cdn.pixabay.com/photo/2018/02/05/23/05/death-valley-3133502_1280.jpg","https://cdn.pixabay.com/photo/2017/03/02/16/54/iceland-2111811_1280.jpg","https://cdn.pixabay.com/photo/2019/03/28/10/19/sunset-4086848_1280.jpg"],v=()=>Math.floor(Math.random()*g.length),x=()=>{const e=document.querySelector(".bg-img");if(!e)return;const t=v();Object.assign(e.style,{"background-image":`url(${g[t]})`})},_={}.VITE_WEATHER_API_KEY,l=document.querySelector("#weather span:first-child"),p=document.querySelector("#weather span:last-child");function E(e){if(!l||!p)return;const{latitude:t,longitude:n}=e.coords,r=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${n}&appid=${_}&units=metric`;fetch(r).then(o=>o.json()).then(o=>{console.log(o.name),p.innerText=o.name,l.innerText=`${o.weather[0].main} / ${o.main.temp}Â°C`})}function O(){alert("Can't find you. No weather for you.")}function w(){navigator.geolocation.getCurrentPosition(E,O)}x();h(document.querySelector("#clock"));const q=localStorage.getItem("user");q?(d(),w(),j()):m();
